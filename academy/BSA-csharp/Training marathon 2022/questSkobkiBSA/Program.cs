using System;
using System.Collections.Generic;

// Объявление класса Program
public class Program
{
    // Метод для проверки валидности скобок. Допустимы ли круглые скобки.
    public static bool IsValidParentheses(string input)
    {
        // Создание нового стека для хранения открывающих скобок.
        // оюбьявление переменной типа Stack<char>
        // с имененем stack 
        // new создает екземпляр обьекта
        // Stack<char>(): Это вызов конструктора класса Stack<char>, который создает новый экземпляр стека символов.
        Stack<char> stack = new Stack<char>();

        // Перебор каждого символа во входной строке
        foreach (char c in input)
        {
            // Если символ - открывающая скобка '(',
            // помещаем его в стек
            if (c == '(')
            {
                stack.Push(c);
            }
            // Если символ - закрывающая скобка ')',
            // проверяем, есть ли соответствующая открывающая скобка в стеке
            // Если нет или стек пуст, возвращаем false (недействительная последовательность скобок)
            // Иначе, удаляем соответствующую открывающую скобку из стека
            else if (c == ')')
            {
                if (stack.Count == 0 || stack.Pop() != '(')
                {
                    return false;
                }
            }
        }

        // Проверяем, остались ли непарные открывающие скобки в стеке
        // Если стек пуст, возвращаем true (действительная последовательность скобок)
        // Иначе, возвращаем false (недействительная последовательность скобок)
        return stack.Count == 0;
    }

    // Главный метод программы
    public static void Main(string[] args)
    {
        // Выводим сообщение с просьбой ввести строку со скобками
        Console.WriteLine("Введите строку со скобками:");
        
        // Считываем введенную пользователем строку
        string input = Console.ReadLine();

        // Проверяем введенную строку на валидность скобок
        bool isValid = IsValidParentheses(input);
        
        // Выводим результат проверки на экран
        Console.WriteLine("Результат проверки: " + isValid);
    }
}



// Действительные скобки
// Binary Studio AcademyMarch 09, 2021

// Напишите функцию, которая принимает строку скобок *'(', ')'*, и определяет, является ли порядок скобок действительным. Функция должна возвращать true, если строка является допустимой, і false, если она недействительна.

// Приклад:

// "()"              =>  true
// ")(()))"          =>  false
// "("               =>  false
// "(())((()())())"  =>  true


// Вимоги:

// Длина входящей строки:  1<= N <=100

// Радом со скобками открытия *(* и закрытия *)* входящая строка может содержать любые допустимые символы ASCII. Кроме того, она может быть пустой и/или вообще не содержать скобок. 

// Не рассматривайте другие формы скобок (например, [], {}, <>)!
